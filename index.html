<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dengue Memory Quest</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;600;700&display=swap" rel="stylesheet">
    
    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Fredoka', sans-serif;
            background-color: #f0fdf4; /* green-50 */
            user-select: none;
        }

        /* 3D Flip Animation Utilities */
        .perspective-1000 {
            perspective: 1000px;
        }
        .transform-style-3d {
            transform-style: preserve-3d;
        }
        .backface-hidden {
            backface-visibility: hidden;
        }
        .rotate-y-180 {
            transform: rotateY(180deg);
        }
        
        /* Card Flip Class */
        .card-inner {
            transition: transform 0.6s;
            transform-style: preserve-3d;
            width: 100%;
            height: 100%;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }
        
        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }

        /* Animations */
        @keyframes scaleIn {
            from { transform: scale(0.9); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }
        .animate-scale-in {
            animation: scaleIn 0.3s ease-out forwards;
        }

        @keyframes pulseSlow {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        .animate-pulse-slow {
            animation: pulseSlow 3s infinite;
        }

        /* Background Pattern for Card Back */
        .pattern-bg {
            background-image: radial-gradient(#ff0000 1px, transparent 1px);
            background-size: 10px 10px;
        }
    </style>

    <!-- Import Map for Gemini SDK -->
    <script type="importmap">
{
  "imports": {
    "@google/genai": "https://esm.sh/@google/genai@^0.1.0",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4"
  }
}
</script>
</head>
<body class="min-h-screen flex flex-col text-gray-800">

    <!-- Header -->
    <header class="bg-gradient-to-r from-green-600 to-teal-600 text-white p-4 shadow-lg sticky top-0 z-40">
        <div class="container mx-auto flex justify-between items-center max-w-4xl">
            <div class="flex items-center space-x-2">
                <span class="text-3xl">üö´ü¶ü</span>
                <h1 className="text-xl sm:text-2xl font-bold hidden sm:block">Dengue Memory Quest</h1>
            </div>
            
            <div id="stats-container" class="flex space-x-6 text-sm sm:text-base font-semibold hidden">
                <div class="bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm">
                    Jogadas: <span id="moves-count">0</span>
                </div>
                <div class="bg-yellow-400 text-yellow-900 px-3 py-1 rounded-full shadow-sm">
                    Pontos: <span id="score-count">0</span>
                </div>
            </div>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-4xl flex-grow relative">
        
        <!-- MENU SCREEN -->
        <div id="menu-screen" class="flex flex-col items-center justify-center min-h-[60vh] text-center">
            <img 
              src="https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Aedes_aegypti.svg/480px-Aedes_aegypti.svg.png" 
              alt="Mosquito Aedes" 
              class="w-48 h-48 mb-6 object-contain drop-shadow-xl animate-pulse-slow"
            />
            <h2 class="text-4xl md:text-5xl font-bold text-green-800 mb-4">Combata o Mosquito!</h2>
            <p class="text-lg md:text-xl text-green-700 mb-8 max-w-lg">
              Encontre os pares de cartas para limpar os focos de Dengue. 
              Responda perguntas corretamente para eliminar o mosquito!
            </p>
            <button 
              id="start-btn"
              class="bg-green-600 hover:bg-green-700 text-white text-2xl font-bold py-4 px-12 rounded-full shadow-xl transition-transform hover:scale-105 active:scale-95 ring-4 ring-green-300 cursor-pointer"
            >
              Come√ßar Jogo
            </button>
        </div>

        <!-- GAME GRID -->
        <div id="game-screen" class="hidden">
            <div id="grid-container" class="grid grid-cols-3 sm:grid-cols-4 gap-3 sm:gap-6 mt-4">
                <!-- Cards will be injected here -->
            </div>
        </div>

    </main>

    <!-- LOADING OVERLAY -->
    <div id="loading-overlay" class="fixed inset-0 bg-black/50 z-50 flex items-center justify-center backdrop-blur-sm hidden">
        <div class="bg-white p-6 rounded-xl flex flex-col items-center shadow-2xl">
            <div class="animate-spin rounded-full h-12 w-12 border-b-4 border-green-600 mb-4"></div>
            <p class="text-lg font-bold text-gray-700">O Mosquito est√° tentando fugir...</p>
            <p class="text-sm text-gray-500">Preparando pergunta...</p>
        </div>
    </div>

    <!-- QUIZ MODAL -->
    <div id="quiz-modal" class="fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4 hidden">
        <div class="bg-white rounded-2xl shadow-2xl max-w-lg w-full overflow-hidden animate-scale-in relative">
            
            <!-- Header -->
            <div class="bg-yellow-400 p-6 flex flex-col items-center">
                <span class="text-5xl mb-2">ü¶ü</span>
                <h2 class="text-2xl font-bold text-yellow-900 text-center">Desafio da Dengue!</h2>
                <p class="text-yellow-800 text-sm font-semibold mt-1">Responda corretamente para garantir o par!</p>
            </div>

            <!-- Content -->
            <div class="p-8">
                <p id="question-text" class="text-xl text-gray-800 font-medium text-center mb-8 leading-relaxed">
                    Carregando pergunta...
                </p>

                <!-- Choices -->
                <div id="quiz-choices" class="grid grid-cols-2 gap-4">
                    <button id="btn-true" class="py-4 rounded-xl bg-green-500 hover:bg-green-600 text-white font-bold text-xl transition-all active:scale-95 shadow-lg border-b-4 border-green-700">
                        VERDADEIRO
                    </button>
                    <button id="btn-false" class="py-4 rounded-xl bg-red-500 hover:bg-red-600 text-white font-bold text-xl transition-all active:scale-95 shadow-lg border-b-4 border-red-700">
                        FALSO
                    </button>
                </div>

                <!-- Feedback -->
                <div id="quiz-feedback" class="hidden text-center p-4 rounded-xl border-2">
                    <h3 id="feedback-title" class="text-2xl font-bold mb-2"></h3>
                    <p id="feedback-explanation" class="text-md leading-relaxed"></p>
                </div>
            </div>
        </div>
    </div>

    <!-- GAME OVER OVERLAY -->
    <div id="game-over-screen" class="fixed inset-0 bg-green-900/90 z-50 flex items-center justify-center p-4 hidden">
        <div class="bg-white rounded-3xl p-8 max-w-md w-full text-center shadow-2xl border-8 border-green-400 animate-scale-in">
            <span class="text-6xl mb-4 block">üèÜ</span>
            <h2 class="text-3xl font-bold text-green-800 mb-2">Parab√©ns!</h2>
            <p class="text-gray-600 mb-6 text-lg">Voc√™ eliminou todos os focos da Dengue!</p>
            
            <div class="bg-green-100 rounded-xl p-4 mb-8">
                <p class="text-2xl font-bold text-green-800"><span id="final-score">0</span> Pontos</p>
                <p class="text-sm text-green-600">em <span id="final-moves">0</span> jogadas</p>
            </div>

            <button 
              id="restart-btn"
              class="w-full bg-green-600 hover:bg-green-700 text-white text-xl font-bold py-4 rounded-xl shadow-lg transition-transform hover:scale-105"
            >
              Jogar Novamente
            </button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="py-6 text-center text-green-700/60 text-sm">
        <p>Desenvolvido para conscientiza√ß√£o sobre a Dengue.</p>
        <p>Imagens via Wikimedia Commons.</p>
    </footer>

    <!-- Logic -->
    <script type="module">
        import { GoogleGenAI, Type } from "@google/genai";

        // ==========================================
        // CONFIGURATION & CONSTANTS
        // ==========================================
        
        // NOTE: In a real environment, this comes from process.env.API_KEY.
        // For this single file demo, if you have a key, put it here. 
        // If left empty, the game uses the fallback questions automatically.
        const API_KEY = ""; 

        const CARD_BACK_IMAGE = "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3d/Map-symbol-hospital-01.png/600px-Map-symbol-hospital-01.png";

        const CARD_IMAGES = [
            { pairId: 1, name: "Aedes Aegypti", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Aedes_aegypti.svg/1200px-Aedes_aegypti.svg.png" },
            { pairId: 2, name: "Pneu Velho", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/87/Tires.jpg/640px-Tires.jpg" },
            { pairId: 3, name: "√Ågua Parada", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a2/Rain_barrel.jpg/640px-Rain_barrel.jpg" },
            { pairId: 4, name: "Vaso de Planta", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e4/Flower_pot.jpg/640px-Flower_pot.jpg" },
            { pairId: 5, name: "Sintoma: Febre", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/18/Fever_thermometer.jpg/640px-Fever_thermometer.jpg" },
            { pairId: 6, name: "Repelente", imageUrl: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/07/Bug_spray.jpg/640px-Bug_spray.jpg" }
        ];

        const FALLBACK_QUESTIONS = [
          // Ciclo de Vida
          {
            text: "Ovos do Aedes aegypti morrem imediatamente se o local secar.",
            isTrue: false,
            explanation: "Falso! Os ovos podem resistir por mais de um ano no seco, esperando a √°gua voltar."
          },
          {
            text: "Do ovo at√© virar mosquito adulto leva apenas 7 a 10 dias no calor.",
            isTrue: true,
            explanation: "Verdadeiro! O ciclo √© muito r√°pido, por isso precisamos verificar a casa toda semana."
          },
          {
            text: "A larva do mosquito consegue viver fora da √°gua, na terra √∫mida.",
            isTrue: false,
            explanation: "Falso! A larva √© aqu√°tica. Se jogarmos a √°gua na terra seca ou no cimento quente, ela morre."
          },
          // Transmiss√£o
          {
            text: "O mosquito da dengue costuma picar mais durante a noite e madrugada.",
            isTrue: false,
            explanation: "Falso! Ele tem h√°bitos diurnos: pica principalmente no in√≠cio da manh√£ e final da tarde."
          },
          {
            text: "Apenas a f√™mea do mosquito pica, pois precisa de sangue para os ovos.",
            isTrue: true,
            explanation: "Verdadeiro! O macho se alimenta apenas de n√©ctar e sucos de plantas."
          },
          {
            text: "A dengue pode ser transmitida pelo espirro ou compartilhando copos.",
            isTrue: false,
            explanation: "Falso! A transmiss√£o √© exclusiva pela picada do mosquito infectado."
          },
          // Prolifera√ß√£o
          {
            text: "Colocar areia nos pratinhos de plantas ajuda a combater a dengue.",
            isTrue: true,
            explanation: "Verdadeiro! A areia elimina a √°gua parada onde o mosquito colocaria os ovos."
          },
          {
            text: "O mosquito prefere colocar ovos em √°gua muito suja e polu√≠da de esgoto.",
            isTrue: false,
            explanation: "Falso! O Aedes aegypti prefere √°gua limpa e parada, como a de chuva em pneus e garrafas."
          },
          {
            text: "Basta trocar a √°gua do cachorro todo dia, n√£o precisa lavar o pote.",
            isTrue: false,
            explanation: "Falso! Tem que esfregar com bucha, pois os ovos ficam grudados na parede do pote."
          },
          // Sintomas
          {
            text: "Dor forte atr√°s dos olhos √© um sintoma muito comum da dengue.",
            isTrue: true,
            explanation: "Verdadeiro! Essa dor (retro-orbital) √© uma das caracter√≠sticas que diferencia da gripe."
          },
          {
            text: "Manchas vermelhas na pele podem aparecer em quem tem dengue.",
            isTrue: true,
            explanation: "Verdadeiro! Chamamos isso de exantema, e pode vir acompanhado de coceira."
          },
          {
            text: "A dengue sempre causa nariz escorrendo e muita tosse com catarro.",
            isTrue: false,
            explanation: "Falso! Sintomas respirat√≥rios s√£o raros na dengue. Isso √© mais comum em gripe ou Covid."
          }
        ];

        // ==========================================
        // GEMINI SERVICE
        // ==========================================
        
        let aiClient = null;
        if (API_KEY) {
            aiClient = new GoogleGenAI({ apiKey: API_KEY });
        }

        async function generateQuestion() {
            if (!aiClient) {
                console.log("Using Fallback Question (No API Key)");
                return null;
            }

            try {
                const topics = [
                    "Ovo do mosquito: resist√™ncia √† seca (pode esperar a chuva por um ano)",
                    "Fase de Larva: vive na √°gua e se alimenta de sujeira microsc√≥pica",
                    "Tempo do ciclo: ovo vira adulto em cerca de 7 a 10 dias no calor",
                    "Pupa: a fase que n√£o se alimenta, apenas respira antes de virar mosquito",
                    "Tempo de vida do mosquito adulto (vive cerca de 30 a 45 dias)",
                    "H√°bito de picada: prefere o dia (in√≠cio da manh√£ e final da tarde)",
                    "Apenas a f√™mea pica (precisa de sangue para os ovos)",
                    "O macho do Aedes se alimenta de n√©ctar e frutas, n√£o transmite dengue",
                    "Dengue n√£o passa pelo contato, beijo ou √°gua compartilhada",
                    "Voo baixo: o mosquito costuma voar baixo (abaixo dos joelhos)",
                    "Dor atr√°s dos olhos (retro-orbital) como caracter√≠stica marcante",
                    "Manchas vermelhas no corpo (exantema) e coceira",
                    "Diferen√ßa da gripe: dengue geralmente n√£o tem coriza (nariz escorrendo)",
                    "Ovos nas paredes dos recipientes (n√£o boiam na √°gua)",
                    "Calhas entupidas e lajes como criadouros escondidos",
                    "Ralos pouco usados: precisam de tela ou √°gua sanit√°ria",
                    "Bebedouros de animais: lavar com bucha (n√£o basta trocar a √°gua)"
                ];
                
                const randomTopic = topics[Math.floor(Math.random() * topics.length)];

                const response = await aiClient.models.generateContent({
                    model: "gemini-3-flash-preview",
                    contents: `
                        Voc√™ √© um professor de ci√™ncias criando um jogo para alunos do 6¬∫ ano (11 a 12 anos).
                        Baseado no 'Manual de Manejo Cl√≠nico da Dengue (Minist√©rio da Sa√∫de)', gere uma pergunta de VERDADEIRO ou FALSO.
                        Foco espec√≠fico da pergunta: ${randomTopic}.
                        Regras:
                        1. A pergunta DEVE ser apenas sobre: Ciclo de vida, Sintomas, Transmiss√£o ou Prolifera√ß√£o/Preven√ß√£o.
                        2. N√ÉO pergunte sobre medicamentos (AAS, Dipirona), tratamento hospitalar ou outras doen√ßas.
                        3. Use linguagem curiosa e desafiadora para crian√ßas de 11 anos.
                        4. A 'explanation' deve explicar o fato cient√≠fico de forma simples.
                    `,
                    config: {
                        responseMimeType: "application/json",
                        responseSchema: {
                            type: Type.OBJECT,
                            properties: {
                                text: { type: Type.STRING },
                                isTrue: { type: Type.BOOLEAN },
                                explanation: { type: Type.STRING },
                            },
                            required: ["text", "isTrue", "explanation"],
                        },
                    },
                });

                if (response.text) {
                    return JSON.parse(response.text);
                }
                return null;
            } catch (error) {
                console.error("Gemini Error:", error);
                return null;
            }
        }

        // ==========================================
        // GAME STATE
        // ==========================================

        const state = {
            cards: [],
            flippedCards: [],
            moves: 0,
            score: 0,
            isLocked: false,
            currentQuestion: null
        };

        // ==========================================
        // DOM ELEMENTS
        // ==========================================
        
        const els = {
            menuScreen: document.getElementById('menu-screen'),
            gameScreen: document.getElementById('game-screen'),
            gridContainer: document.getElementById('grid-container'),
            statsContainer: document.getElementById('stats-container'),
            movesCount: document.getElementById('moves-count'),
            scoreCount: document.getElementById('score-count'),
            startBtn: document.getElementById('start-btn'),
            restartBtn: document.getElementById('restart-btn'),
            
            // Overlays
            loadingOverlay: document.getElementById('loading-overlay'),
            quizModal: document.getElementById('quiz-modal'),
            gameOverScreen: document.getElementById('game-over-screen'),
            
            // Quiz
            questionText: document.getElementById('question-text'),
            quizChoices: document.getElementById('quiz-choices'),
            btnTrue: document.getElementById('btn-true'),
            btnFalse: document.getElementById('btn-false'),
            quizFeedback: document.getElementById('quiz-feedback'),
            feedbackTitle: document.getElementById('feedback-title'),
            feedbackExplanation: document.getElementById('feedback-explanation'),

            // Game Over
            finalScore: document.getElementById('final-score'),
            finalMoves: document.getElementById('final-moves')
        };

        // ==========================================
        // GAME LOGIC
        // ==========================================

        function startGame() {
            // Reset state
            state.moves = 0;
            state.score = 0;
            state.flippedCards = [];
            state.isLocked = false;
            
            // Update UI
            els.movesCount.textContent = 0;
            els.scoreCount.textContent = 0;
            els.menuScreen.classList.add('hidden');
            els.gameOverScreen.classList.add('hidden');
            els.gameScreen.classList.remove('hidden');
            els.statsContainer.classList.remove('hidden');

            // Create Deck
            const pairs = [...CARD_IMAGES, ...CARD_IMAGES];
            const shuffled = pairs
                .sort(() => Math.random() - 0.5)
                .map((item, index) => ({
                    ...item,
                    uniqueId: `card-${index}`,
                    isFlipped: false,
                    isMatched: false
                }));
            
            state.cards = shuffled;
            renderGrid();
        }

        function renderGrid() {
            els.gridContainer.innerHTML = '';
            state.cards.forEach(card => {
                const cardEl = document.createElement('div');
                cardEl.className = `group relative w-full aspect-[3/4] cursor-pointer perspective-1000 card ${card.isMatched ? 'invisible' : ''}`;
                cardEl.id = card.uniqueId;
                cardEl.onclick = () => handleCardClick(card.uniqueId);

                // Determine if flip class is needed (though mainly handled by JS toggling class on click)
                const isFlippedClass = card.isFlipped ? 'flipped' : '';

                cardEl.innerHTML = `
                    <div class="card-inner duration-500 transform-style-3d relative w-full h-full shadow-lg rounded-xl ${isFlippedClass}">
                        <!-- FRONT (Actually the Back of card design) -->
                        <div class="absolute w-full h-full backface-hidden bg-white border-4 border-red-500 rounded-xl flex items-center justify-center p-4 overflow-hidden">
                             <div class="absolute inset-0 bg-red-50 opacity-10 pattern-bg"></div>
                             <div class="flex flex-col items-center justify-center opacity-80 z-10">
                                 <img src="${CARD_BACK_IMAGE}" alt="Verso" class="w-16 h-16 mb-2" />
                                 <span class="text-red-600 font-bold text-sm text-center">Combata a Dengue</span>
                             </div>
                        </div>

                        <!-- BACK (The Image) -->
                        <div class="absolute w-full h-full backface-hidden bg-white border-4 border-green-500 rounded-xl flex flex-col items-center justify-center p-2 rotate-y-180">
                           <img src="${card.imageUrl}" alt="${card.name}" class="w-full h-24 object-contain mb-2 rounded-md" />
                           <span class="text-green-800 font-bold text-xs sm:text-sm text-center leading-tight">${card.name}</span>
                        </div>
                    </div>
                `;
                els.gridContainer.appendChild(cardEl);
            });
        }

        function handleCardClick(id) {
            if (state.isLocked) return;
            
            const cardIndex = state.cards.findIndex(c => c.uniqueId === id);
            const card = state.cards[cardIndex];

            // Ignore if already flipped or matched
            if (card.isFlipped || card.isMatched) return;

            // Flip Logic
            card.isFlipped = true;
            document.getElementById(id).classList.add('flipped');
            state.flippedCards.push(card);

            if (state.flippedCards.length === 2) {
                // Increment moves
                state.moves++;
                els.movesCount.textContent = state.moves;
                state.isLocked = true; // Prevent other clicks
                checkForMatch();
            }
        }

        async function checkForMatch() {
            const [card1, card2] = state.flippedCards;
            const match = card1.pairId === card2.pairId;

            if (match) {
                // Show Loading
                els.loadingOverlay.classList.remove('hidden');

                // Get Question
                let question = await generateQuestion();
                if (!question) {
                    const idx = Math.floor(Math.random() * FALLBACK_QUESTIONS.length);
                    question = FALLBACK_QUESTIONS[idx];
                }

                state.currentQuestion = question;
                els.loadingOverlay.classList.add('hidden');
                
                // Show Quiz
                openQuizModal(question);

            } else {
                // No match, flip back after delay
                setTimeout(() => {
                    const el1 = document.getElementById(card1.uniqueId);
                    const el2 = document.getElementById(card2.uniqueId);
                    
                    if(el1) el1.classList.remove('flipped');
                    if(el2) el2.classList.remove('flipped');

                    card1.isFlipped = false;
                    card2.isFlipped = false;
                    state.flippedCards = [];
                    state.isLocked = false;
                }, 1000);
            }
        }

        // ==========================================
        // QUIZ LOGIC
        // ==========================================

        function openQuizModal(question) {
            els.questionText.textContent = question.text;
            
            // Reset modal state
            els.quizChoices.classList.remove('hidden');
            els.quizFeedback.classList.add('hidden');
            
            // Reset button styles
            els.quizFeedback.className = "hidden text-center p-4 rounded-xl border-2"; // Reset colors
            
            els.quizModal.classList.remove('hidden');
        }

        function handleAnswer(choice) {
            const question = state.currentQuestion;
            const isCorrect = choice === question.isTrue;

            // Show Result UI
            els.quizChoices.classList.add('hidden');
            els.quizFeedback.classList.remove('hidden');
            
            if (isCorrect) {
                els.quizFeedback.classList.add('bg-green-100', 'text-green-800', 'border-green-400');
                els.feedbackTitle.textContent = "Correto! üéâ";
            } else {
                els.quizFeedback.classList.add('bg-red-100', 'text-red-800', 'border-red-400');
                els.feedbackTitle.textContent = "Ops! Errado. üòì";
            }
            els.feedbackExplanation.textContent = question.explanation;

            // Wait 4.5 seconds so user can read, then proceed
            setTimeout(() => {
                finalizeTurn(isCorrect);
            }, 4500);
        }

        function finalizeTurn(isCorrect) {
            const [card1, card2] = state.flippedCards;

            if (isCorrect) {
                // Keep them matched
                card1.isMatched = true;
                card2.isMatched = true;
                state.score += 10;
                els.scoreCount.textContent = state.score;
                
                // Visually hide them or mark them
                document.getElementById(card1.uniqueId).classList.add('invisible');
                document.getElementById(card2.uniqueId).classList.add('invisible');
                
                checkGameOver();
            } else {
                // Flip back (Penalty)
                card1.isFlipped = false;
                card2.isFlipped = false;
                document.getElementById(card1.uniqueId).classList.remove('flipped');
                document.getElementById(card2.uniqueId).classList.remove('flipped');
            }

            // Cleanup
            state.flippedCards = [];
            state.currentQuestion = null;
            state.isLocked = false;
            els.quizModal.classList.add('hidden');
        }

        function checkGameOver() {
            const allMatched = state.cards.every(c => c.isMatched);
            if (allMatched) {
                els.finalScore.textContent = state.score;
                els.finalMoves.textContent = state.moves;
                els.gameOverScreen.classList.remove('hidden');
            }
        }

        // ==========================================
        // EVENTS
        // ==========================================
        
        els.startBtn.addEventListener('click', startGame);
        els.restartBtn.addEventListener('click', startGame);
        els.btnTrue.addEventListener('click', () => handleAnswer(true));
        els.btnFalse.addEventListener('click', () => handleAnswer(false));

    </script>
</body>
</html>
